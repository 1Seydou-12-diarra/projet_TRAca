<p-dialog [(visible)]="visible"
		  [baseZIndex]="1000"
		  [modal]="true"
		  [responsive]="true"
		  [closeOnEscape]="false"
		  [draggable]="false"
		  [resizable]="false"
		  (onHide)="onFermeture()"
		  (onShow)="onOuverture()"
		  [focusOnShow]="false"
		  [style]="{ width: '800px' }">

	<p-header>
		{{ modeModification ? "Ajouter  Conditionnement" : "Modifier Conditionnement" }}
	</p-header>
	<div class="d-flex justify-content-center align-items-center" *ngIf="chargementOuverture">
		<span class="spinner-border m-2"></span>
	</div>

	<div class="container-fluid"  *ngIf="!chargementOuverture">
		<form [formGroup]="conditionnementForm">
			<p-messages [(value)]="messages" [enableService]="false" ></p-messages>
			<div class="p-fluid">
				<div class="row">
					<div class="col-12">
						<div class="p-field">
							<label>Article</label>
							<p-dropdown
								[options]="articlesOption"
								dataKey="code"
								class="p-inputtext-lg"
								formControlName="article">
							</p-dropdown>
						</div>
					</div>

					<div class="col-6">
						<div class="p-field">
							<label for="code">Code</label>
							<input id="code" type="text" class="p-inputtext-lg taille-font" formControlName="code" pInputText>
						</div>
					</div>
					<div class="col-6">
						<div class="p-field">
							<label for="nombreElements">Nombre Elements</label>
							<p-inputNumber formControlName="nombreElements" class="p-inputtext-lg taille-font" id="nombreElements" inputId="locale-user" [minFractionDigits]="2"></p-inputNumber>
						</div>
					</div>

					<div class="col-6">
						<div class="p-field">
							<label for="designation">DÃ©signation</label>
							<input id="designation" type="text" class="p-inputtext-lg taille-font" formControlName="designation" pInputText>
						</div>
					</div>
					<div class="col-6">
						<div class="p-field">
							<label for="longueur">Longueur</label>
							<p-inputNumber formControlName="longueur" class="p-inputtext-lg taille-font" id="longueur" inputId="locale-user" [minFractionDigits]="2"></p-inputNumber>
						</div>
					</div>

					<div class="col-6">
						<div class="p-field">
							<label for="largeur">Largeur</label>
							<p-inputNumber formControlName="largeur" class="p-inputtext-lg taille-font" id="largeur" inputId="locale-user" [minFractionDigits]="2"></p-inputNumber>
						</div>
					</div>
					<div class="col-6">
						<div class="p-field">
							<label for="hauteur">Hauteur</label>
							<p-inputNumber formControlName="hauteur" id="hauteur" class="p-inputtext-lg taille-font" inputId="locale-user" [minFractionDigits]="2"></p-inputNumber>
						</div>
					</div>
				</div>

			</div>
		</form>
	</div>

	<p-footer>
		<div [hidden]="enregistrementEnCours">
			<button type="button" pButton
					[disabled]="conditionnementForm.invalid"
					(click)="enregistrer()"
					[label]="'Enregistrer'">
			</button>
			<p-button [label]="'Annuler'"
					  type="button"
					  styleClass="p-button-link"
					  (click)="fermerModal(false)"></p-button>
		</div>
		<span *ngIf="enregistrementEnCours" class="app-spinner m-2"></span>
	</p-footer>
</p-dialog>
